<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="CMPUT 296" />
  <meta name="author" content="written by Eddie Antonio Santos" />
  <title>Lab 11: Cross-site scripting</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.line-block{white-space: pre-line;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="simple.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">Lab 11: Cross-site scripting</h1>
<p class="author">CMPUT 296</p>
<p class="author">written by Eddie Antonio Santos</p>
<p class="date">April 2, 2018</p>
</header>
<h1 id="overview">Overview</h1>
<ul>
<li>Learn what a cross-site scripting attack is</li>
<li>Exploit some cross-site scripting vulnerabilities</li>
<li>Reflect on how to prevent cross-site scripting vulnerabilities</li>
</ul>
<h1 id="materials">Materials</h1>
<ul>
<li>An internet connection</li>
<li>A modern web browser (like Firefox or Google Chrome)</li>
<li>…</li>
</ul>
<h1 id="procedure">Procedure</h1>
<p>Submit your responses to the questions in this lab on eClass.</p>
<blockquote>
<p><strong>Question X</strong>: Questions look like this.</p>
</blockquote>
<p><strong>Remember to cite your sources</strong>.</p>
<h2 id="introduction">Introduction</h2>
<p><strong>Cross-site scripting</strong> is the act of inserting (possibly malicious) JavaScript code into a different website when it is not intended. You, Typically this is to extract sensitive information from unsuspecting users (such as <code>document.cookie</code>), which may provide a way for an attacker to gain access to users’ accounts without a password.</p>
<p>In this lab, you will be writing code that performs cross-site scripting attacks on vulnerable webpages—fake webpages, specifically constructed to help teach cross-site scripting! You will also offer solutions on how to write websites that are immune to these attacks.</p>
<p>To start cross-site scripting, go to this site: <a href="https://xss-game.appspot.com/" class="uri">https://xss-game.appspot.com/</a>. Read the introduction, and proceed to <strong>level 1</strong>. Then continue reading this write-up.</p>
<h2 id="level-1">Level 1</h2>
<p>The goal is to insert the HTML <code>&lt;script&gt;alert(&quot;pwn'd&quot;)&lt;/script&gt;</code> into the embedded web page, a fake search engine called “FourOrFour”.</p>
<figure>
<img src="./lab-11/vulnerable.png" alt="Vulnerable webpage, embedded in https://xss-game.appspot.com/level1" /><figcaption>Vulnerable webpage, embedded in <a href="https://xss-game.appspot.com/level1" class="uri">https://xss-game.appspot.com/level1</a></figcaption>
</figure>
<p>Although you have read-only access to the web server’s source code, you do not have access to modify it; in order to insert your code, you’ll have to find a way to <em>trick</em> the website into executing your code! The first thing to try is to <strong>insert your code</strong> into a source of input in the webpage, that is otherwise intended for normal user interactions.</p>
<p>Consider the sources of input on the page: there are at least two sources of input!</p>
<blockquote>
<p><strong>Question X</strong>: List as many sources of input on the homepage of “FourOrFour”. Hint: look both inside the viewport and <em>outside</em> of the viewport.</p>
</blockquote>
<p>Try simply providing <code>&lt;script&gt;alert(&quot;pwn'd&quot;)&lt;/script&gt;</code> into any sources of input into the vulnerable page.</p>
<p>Feel free to use the <strong>hints</strong> at the bottom of the page.</p>
<blockquote>
<p><strong>Question X</strong>: What source of input did you use to make the page do the <code>alert(&quot;pwn'd&quot;)</code>?</p>
</blockquote>
<p>Toggle the “Target code” on the page. This is the Python source code for the server.</p>
<blockquote>
<p><strong>Question X</strong>: What part of the source code was responsible for allowing you to execute your own <code>&lt;script&gt;</code> on the page? Why is it vulnerable to the cross-site scripting attack (in other words, why does it allow you to insert <em>your</em> code into the webpage).</p>
</blockquote>
<hr />
<blockquote>
<p><strong>Question X</strong>: Using your own words, describe XSS If you use sources to define XSS, you must cite your sources and you must rewrite what the source says in your own words.</p>
</blockquote>
</body>
</html>
