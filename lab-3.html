<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="CMPUT 296" />
  <meta name="author" content="written by Eddie Antonio Santos" />
  <meta name="dcterms.date" content="2018-01-29" />
  <title>Lab 3: HTTP from scratch</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.line-block{white-space: pre-line;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="simple.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">Lab 3: HTTP from scratch</h1>
<p class="author">CMPUT 296</p>
<p class="author">written by Eddie Antonio Santos</p>
<p class="date">January 29, 2018</p>
</header>
<h1 id="overview">Overview</h1>
<h1 id="materials">Materials</h1>
<ul>
<li>An internet connection</li>
<li>Unix-like command line tools: <code>dig</code>, <code>nc</code> (netcat), <code>xxd</code></li>
</ul>
<h1 id="procedure">Procedure</h1>
<p>Submit your responses to the questions in this lab on eClass.</p>
<blockquote>
<p><strong>Question X</strong>. Questions look like this.</p>
</blockquote>
<p><strong>Remember to cite your sources</strong>.</p>
<p>In last weeks labs, we spied on how your browser creates HTTP requests to communicated with an HTTP server. In this lab, we will be creating HTTP requests “from scratch” using nothing but an open TCP connection.</p>
<h2 id="creating-a-tcp-connection">Creating a TCP connection</h2>
<p>In order for your computer to be able to retrieve this cat meme from internet, it must do a few things at several layers of abstraction:</p>
<ol type="1">
<li>Physical layer: it must transfer bits of information through some physical mediums, such as modulating the voltage on a wire, or modulating a carrier radio wave. Our request for a cat meme will be converted into bits on a wire.</li>
<li>Link layer: it must have a way of organizing and directing those bits to a specific device (such as a router) on the local network. The unit of organization is called a <em>packet</em>. The bytes for our request for a cat image will be grouped into one or more data packets which are destined to our router.</li>
<li>Internet layer: in order for those packets to be directed to a device on a <em>different</em> network, there must be a way to address any computer in the world. This is the IP layer, and where IP addresses come in to play. Our request for a cat meme is destined for the machine at <code>151.101.149.147</code>, which happens to be running an HTTP server, hosting the cat meme we want. An IP packet specifies that our request is destined for this machine.</li>
<li>Transport layer: for some applications, we need to ensure that our packets are properly received, and that there are ways to deal with any errors along the way. This way we can establish a <em>reliable transport mechanism</em> that allows us to send bytes knowing that the other end will get them, no matter how many networks that packet has to hop through. For this, there is TCP. Our request for a cat meme happens after our computer and the external server make a “handshake” to establish that they will be talking to each other. We send the bytes of our request in one or more TCP packets, to which the server must reply and say “got it” for each one.</li>
<li>Application layer: HTTP.</li>
</ol>
<!--

Create requests in a text editor of your choice.

-->
<!--

Attach Accept-Encoding to server

Get the uncompressed data.

Report the file size.

gunzip the content

Report the file size again.

https://github.com/jvns/gzip.jl

-->
<!--

Omit the Host header to example.com

-->
<!-- manually fetch IP addresses with dig -->
<!--

Make them construct an HTTP request

-->
</body>
</html>
